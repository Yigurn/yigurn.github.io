---
layout: post
title: "Orbits"
date: 2020-03-29
categories: ['Programming']
tags: 'Endless Planet'
---
Currently the planets rotate on the spot, due to past attempts at orbiting the sun, either using randomly generated paths, or gravitational forces. Both versions resulting in issues.
Using gravity was my initial plan, in order to allow rockets to knock smaller planets off course and collisions to destroy planets at points, however collisions was all I could do. All the time. Getting randomly sized and weighted planets to stay in orbits for even a minute proved very tricky, but open up an idea to a new type of gamemode <b>Gravity Well</b>.
[Include a gif of the planets smolly circling and falling into the sun]
This gamemode would have multiple planets spawning and circling the sun as they slowly get sucked in, causing players to have to constantly try and move between them refueling and fighting along the way.
Before starting to implement this version of the game, I wanted to have some planets in constant orbit around the sun and developed a system where orbits are randomly generated at different distances around the sun. Whilst this works, it makes the game much slower as you are limited as to which planets are near you each time. so I started creating a ring system where planets are roughly the same distance away from the sun and some even share orbits. Unfortunately this causes the planets to collide often where the orbits cross. I developed a script to detect where the planets would collide and forced the orbits to recalculate if the paths were to close together, but with the different speeds and orbits, getting them to all not crash was getting rather complicated. After a lot of thought and attempts I realize it is quite hard to even see the orbits within the game, so decided on a new plan to hard code a few orbits and then place the planets randomly upon them.
